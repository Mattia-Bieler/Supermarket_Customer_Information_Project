# Supermarket Customer Information Project 
## Project Background
2Market has requested an analysis of its new customer base, specifically focusing on individuals who registered between 2022 Q3 and 2024 Q2. This initiative serves as an initial step toward addressing the supermarket's challenge of gaining a deeper understanding of its customer demographics and purchasing behaviour, a challenge that has arisen from the lack of emphasis on fostering a data-driven decision-making culture within 2Market. The analysis will provide an overview of the customer demographics, explore the effectiveness of various advertisement channels, examine the supermarket’s best-selling products, and produce recommendations for further analysis.

## Analytical Approach
To ensure compatibility with PostgreSQL, I began by standardising the dt_customer column's date format from the marketing_data.csv file to YYYY-MM-DD in Excel. This process involved addressing inconsistencies in the column, as the dates were recorded in both DMY and MDY formats. By using the 'Text to Columns' feature twice, I successfully resolved these discrepancies.

Once the dataset was imported into pgAdmin 4, I began by renaming several columns to enhance clarity and consistency. For example, dt_customer was renamed to customer_reg to better reflect its purpose as a customer registration date, and numwalkinpur was updated to numwalkinbuy for improved readability and consistency with the numwebbuy column. Next, I addressed the income column by removing the $ sign, commas, and .00, which allowed me to convert the column to an integer data type for easier analysis. I also renamed the column to income_$, making its monetary nature explicit. 

I checked for duplicates in the id column and created a function to verify that no NULL values existed in any column. To address inconsistencies in the marital_status column, I removed invalid entries such as ‘YOLO’ and ‘Absurd,’ which did not align with meaningful categories. Additionally, I standardised ‘Alone’ to ‘Single,’ ensuring consistency by unifying terms that convey the same marital status. In the country column, I improved interpretability by replacing abbreviated country codes (e.g. ‘AUS’) with their corresponding full names (e.g. ‘Australia’). These changes enhanced data clarity and usability, making it more intuitive and reliable for analysis.

An age column was added, calculated as 2025 - year_birth, to simplify demographic analysis and support targeted marketing. Outlier detection was performed using a custom IQR-based function on the age and income_$ columns, and unrealistic ages and one extreme income value were manually removed, while valid high salaries were retained to maintain data integrity.

The ad_data table was created to store advertisement-related information, and consistency checks between the marketing_data and ad_data tables were performed. I first verified that no duplicate id’s or NULL values existed in the ad_data dataset. Mismatched id entries in ad_data that did not exist in marketing_data were then identified and removed, ensuring alignment and maintaining data integrity for analysis. 

To facilitate the analysis, functions were developed to assess customer demographic groups (country, education, and marital status) where appropriate, optimising query performance and simplifying data processing. After completing the analysis, both tables were exported as ad_data_cleaned.csv and marketing_data_cleaned.csv for import into Tableau.

## Dashboard: Design and Development
[__VIEW DASHBOARD ON TABLEAU PUBLIC__](https://public.tableau.com/app/profile/mattia.bieler/viz/2MarketSupermarketDashboard/2MarketInformation1)
![Dashboard Page One](https://github.com/user-attachments/assets/d6ac29ac-bbcc-4475-84ad-bb4635136c60) <br>
The Tableau dashboard consists of two pages, 2Market Information (1) and 2Market Information (2), which can be toggled using the blue navigation button in the top left corner. On 2Market Information (1), there are three dynamic tables and two scatterplots. Users can switch between country, education, and marital status on the tables using the category parameter. Furthermore, each table presents different aspects of these categories: age and income, household size, and spending. The top scatterplot examines the relationship between age and income, while the bottom scatterplot visualises average spending versus customer registration date, with data point sizes reflecting the customer count.

![Dashboard Page Two](https://github.com/user-attachments/assets/ced9356d-701b-4e8b-a686-ef35aed5bf37) <br>
On 2Market Information (2), there is a table displaying customer behaviour metrics, including average web visits, average complaints, and other relevant data. Furthermore, two stacked bar charts are included: one analysing advertisement effectiveness percentages and the other showing product breakdown spend, which can be viewed as either average or total spend, depending on the selection made using the spend parameter. Legends are included on the page for the stacked bar charts, offering clear explanations of what each colour represents. Advertisement effectiveness percentages are categorised by type: social media platforms (Facebook, Instagram, and Twitter) are represented in varying shades of purple, while non-social media methods (brochure and bulkmail) are depicted in different shades of green. All graphs on this page, like the tables on 2Market Information (1), can be dynamically adjusted using the category parameter.

## Insights and Recommendations
![Spend vs Registration Date](https://github.com/user-attachments/assets/7c42bf09-b357-4a62-8d21-ff308b48376a) <br>
The above scatterplot shows a decline in the average spend of newer customers between 2022 Q3 and 2024 Q2, except for 2023 Q4, which shows a higher average spend than 2023 Q3. This trend may indicate that the supermarket is attracting more price-sensitive or budget-conscious shoppers, or that newer customers are spending less at 2Market and potentially increasing their spending at competing supermarkets. A shopping trend analysis, market share analysis, and customer surveys could provide further insights into the decline in average spend by newer customers.

![Age vs Income](https://github.com/user-attachments/assets/d3e70fd1-8a70-40d9-8030-ce71c657b68a)
![Country - Age and Income](https://github.com/user-attachments/assets/af291e0e-658d-441b-901f-f2ed38dfd72b) <br>
Focusing on the country category, Australia has the highest average age (56.42), while Montenegro has the lowest average age (51.67). Despite having the youngest demographic, Montenegro has the highest average income ($57,680.33). This relationship stands out, as it diverges from the general trend observed in the above scatterplot, where income tends to increase with age. Montenegro also has the highest average spend ($1,040.67), highlighting a link between income and spending. This is further highlighted by India, who has the lowest average income ($49,105.80) and spend ($533.22). However, it is important to note that Montenegro's younger demographic is represented by only three customers in the dataset. This limited sample size may skew the perception of affluence in Montenegro and might not accurately reflect the reality of its broader population.

![Country - Household](https://github.com/user-attachments/assets/3eb91658-0a1a-41be-a703-3a1756477778) <br>
Montenegro’s high average number of teens (0.67) contrasts with the absence of children at home, possibly reflecting younger child-rearing norms. Germany, with the lowest number of teens (0.45) and second lowest number of kids (0.38), has smaller households and a lower birth rate. 

![Country - Spending](https://github.com/user-attachments/assets/e6aaf796-e457-4fc9-8f9d-5b968637a481) <br>
Spain, with the largest customer base (1,092) and the highest total spend ($657,704), ranks sixth in average spend per customer ($602.29). A further analysis is needed to examine Spain's spending patterns, focusing on spending variability and distribution. This would reveal whether the total spend is primarily driven by a small group of high-income individuals or by a more uniform contribution across the customer base. Such insights could guide the development of targeted marketing strategies to better address customer segments and optimise revenue.

![Education - All](https://github.com/user-attachments/assets/953e87c5-4538-48d4-adef-25d7113ad6d5) <br>
As education level increases, both average age and income rise. For example, basic education holders have the lowest average age (46.54) and income ($20,306.26), while PhD holders have the highest (57.85, $56,120.29). Basic education holders also have the highest number of kids (0.63) and the lowest number of teens (0.09), whereas PhD holders have the lowest number of kids (0.4) and the highest number of teens (0.6). These trends suggest that as education and, more significantly, age increase, family composition shifts, particularly regarding the life stage of children.

![Marital Status - All](https://github.com/user-attachments/assets/10b22cc4-85b4-467c-a3f1-38a9b627375e) <br>
Similar patterns emerge across marital statuses, where age correlates with both income and family composition. As age increases, income and the average number of teens tend to rise, while the average number of kids generally declines. Single individuals have the lowest average age (52.25) and income ($50,930.22), with the highest average number of kids (0.46) and the lowest average number of teens (0.4). This finding seems unexpected, as one would generally anticipate that single individuals would not have a higher average number of children compared to other marital statuses, such as 'together' or 'married.' This raises the need to investigate whether outliers or specific characteristics within the single group might be distorting the results. Additionally, understanding how the data was collected is crucial, as customers, for example, may have reported themselves as 'single' even if they actually belong to the 'divorced' category. Widows, with the highest average age (65.25) and income ($56,481.55), have fewest kids (0.24) but the most teens (0.64). Married individuals are the largest group size (857) and have the highest total spend ($506,885). However, they have the lowest average spend ($591.46). Like the recommended further analysis for Spain, I suggest an analysis is done into the distribution of spending amongst married customers.

![Country - Recency](https://github.com/user-attachments/assets/95ad51c0-022e-4e2c-817e-76ea24c59742) <br>
There is little variation in the average number of days since the last purchase across different educational levels (between 47.32 and 49.9 days) and marital statuses (between 48.31 and 50.06 days). However, for the country category, Montenegro stands out with a significantly lower average number of days since the last purchase compared to other countries, which show similar figures.

![Country - Ad](https://github.com/user-attachments/assets/5b4977b2-0309-4ffa-8a0d-3ee37eb971ed)
![Education - Ad](https://github.com/user-attachments/assets/7ec9720f-c6c5-42e8-b29b-35080acdea69)
![Marital Status - Ad](https://github.com/user-attachments/assets/5550c5f5-15c1-46ae-bdf8-09167268a183)
![Ad Legend](https://github.com/user-attachments/assets/7b2179bb-8734-401f-b867-eb536d15938f) <br>
The advertisement channels bulkmail, Facebook, Instagram, and Twitter show similar levels of effectiveness, while brochure lags significantly behind. Exceptions include the country Montenegro and individuals with a basic education level, where only bulkmail is effective. Therefore, I recommend a continued focus across all three social media channels and bulkmail. However, a new marketing strategy is needed, as the overall advertisement effectiveness is only at 29.8% and no individual channel reaches an overall effectiveness of 7.5%. If 2Market has historical data on the success of various marketing campaigns, an analysis of this data could provide insights into how to improve advertisement effectiveness.

![Country - Product](https://github.com/user-attachments/assets/0011f04f-bf04-45a5-a659-9e1dd46e49c3)
![Education - Product](https://github.com/user-attachments/assets/c2405983-9a59-426c-a9c4-2de599e273b0)
![Marital Status - Product](https://github.com/user-attachments/assets/decbca37-75dd-4e37-87c9-f1fdc04ecdd4)
![Product Legend](https://github.com/user-attachments/assets/bf826222-faa5-41d4-87aa-1ce257b2f44a) <br>
The product breakdown graph shows that customers spent the most on alcohol across all countries and marital statuses. This trend holds true across education levels, except for those with a basic education. Customers with a basic education primarily focused on commodities. Furthermore, these customers have the lowest average in-store and online purchases, despite having the highest average number of website visits. This could be due to their lower income, which limits their purchasing power, even though they are actively browsing on the 2Market website. Additionally, customers with a basic education have the lowest average deal usage, suggesting that, despite their engagement, they are not capitalising on available promotions. To address this, a strategy could involve offering targeted promotions on commodities, which align with their primary focus and purchasing behaviour, making it easier for them to take advantage of discounts on essential products they are more likely to buy. 
